/* ===== GROUP-START message (has avatar) ===== */
.message-item {
    display: flex;
    position: relative;
    padding: 2px 16px 2px 72px;
    /* left pad for compact alignment */
    line-height: 1.375;
    transition: background 0.05s;
}

.message-item:hover {
    background: var(--bg-modifier-hover);
}

/* Group-start gets extra top padding so it's visually separated */
.message-item--group-start {
    margin-top: 17px;
    padding: 1px 16px;
    align-items: flex-start;
    gap: 0;
}

/* ===== Avatar ===== */
.msg-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1rem;
    color: #fff;
    flex-shrink: 0;
    margin-right: 16px;
    margin-top: 1px;
    letter-spacing: 0;
    user-select: none;
    cursor: default;
    transition: border-radius 0.15s;
}

.msg-avatar:hover {
    border-radius: var(--radius-sm);
}

/* ===== Content column ===== */
.msg-content {
    flex: 1;
    min-width: 0;
}

/* ===== Header row (author + timestamp) ===== */
.msg-header {
    display: flex;
    align-items: baseline;
    gap: 8px;
    margin-bottom: 2px;
    flex-wrap: wrap;
}

.msg-author {
    font-size: 1rem;
    font-weight: 600;
    line-height: 1.375;
    cursor: pointer;
}

.msg-author:hover {
    text-decoration: underline;
}

.msg-timestamp {
    font-size: 0.6875rem;
    color: var(--text-muted);
    font-weight: 400;
    line-height: 1.375;
}

/* ===== Message text ===== */
.msg-text {
    font-size: 1rem;
    color: var(--text-normal);
    word-break: break-word;
    white-space: pre-wrap;
    line-height: 1.375;
}

/* ===== Compact message ===== */
.message-item--compact {
    padding: 1px 16px 1px 72px;
    align-items: center;
}

.msg-compact-time {
    position: absolute;
    left: 16px;
    width: 56px;
    /* same as avatar (40) + gap (16) */
    font-size: 0.6875rem;
    color: var(--text-muted);
    text-align: right;
    opacity: 0;
    transition: opacity 0.1s;
    line-height: 1.375;
    pointer-events: none;
    user-select: none;
}

.message-item--compact:hover .msg-compact-time {
    opacity: 1;
}